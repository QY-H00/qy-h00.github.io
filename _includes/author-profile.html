{% include base_path %}

{% if page.author and site.data.authors[page.author] %}
  {% assign author = site.data.authors[page.author] %}
{% else %}
  {% assign author = site.author %}
{% endif %}

<div class="author-profile" itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    {% if author.avatar contains "://" %}
      <img src="{{ author.avatar }}" alt="{{ author.name }}">
    {% else %}
      <img src="{{ author.avatar | prepend: "/images/" | prepend: base_path }}" class="author__avatar" alt="{{ author.name }}">
    {% endif %}
  </div>

  <div class="author__content">
    <h3 class="author__name" itemprop="name">{{ author.name }}</h3>
    {% if author.bio %}
      <p class="author__bio" itemprop="description">{{ author.bio }}</p>
    {% endif %}
  </div>

  <div class="author__urls-wrapper">
    <ul class="author__urls social-icons">
      {% if author.location %}
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i>
          <span itemprop="name">{{ author.location }}</span>
        </li>
      {% endif %}
      {% if author.email %}
        <li>
          <a href="mailto:{{ author.email }}" itemprop="email">
            <i class="fas fa-fw fa-envelope" aria-hidden="true"></i>
            <span>Email</span>
          </a>
        </li>
      {% endif %}
      {% if author.github %}
        <li>
          <a href="https://github.com/{{ author.github }}" itemprop="sameAs" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
        </li>
      {% endif %}
      {% if author.googlescholar %}
        <li>
          <a href="{{ author.googlescholar }}" itemprop="sameAs" target="_blank" rel="noopener noreferrer">
            <i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i>
            <span>Google Scholar</span>
          </a>
        </li>
      {% endif %}
      {% if author.linkedin %}
        <li>
          <a href="https://www.linkedin.com/in/{{ author.linkedin }}" itemprop="sameAs" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i>
            <span>LinkedIn</span>
          </a>
        </li>
      {% endif %}
      {% if author.twitter %}
        <li>
          <a href="https://twitter.com/{{ author.twitter }}" itemprop="sameAs" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-fw fa-twitter" aria-hidden="true"></i>
            <span>Twitter</span>
          </a>
        </li>
      {% endif %}
      {% if author.orcid %}
        <li>
          <a href="{{ author.orcid }}" itemprop="sameAs" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-fw fa-orcid" aria-hidden="true"></i>
            <span>ORCID</span>
          </a>
        </li>
      {% endif %}
    </ul>
  </div>
</div>
